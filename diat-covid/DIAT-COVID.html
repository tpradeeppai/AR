<!DOCTYPE html>
<html>
<title>DIAT-COVID</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="w3.css">
<style>
html,body {
    height:100%;
}
</style>
<script src="jquery.min.js"></script>
<script src="other.lang.js"></script>
<script src="jspdf.min.js"></script>
<script src="Amiko-Regular-normal.js"></script>
<script>
lang = 1;
$(document).ready(function(){
  $(".page-div").hide();
  $("#containerdiv1").show();
  
  function lang_click()
  {
      $(".page-div").hide();
	  $("#resultDiv").hide();
	  $("#containerdiv2").show();
  }

  function other_lang()
  {
  	  var objs = $(".text-replace");
	  for(i=0;i<objs.length;i++)
	  {
		$(objs[i]).html(wordMap[$(objs[i]).html()]);
	  }
	  lang_click();
  }
  
   $("#eng").click(function(){
		lang_click();
//		$("#print").show();
   });
  
  $("#hindi").click(function(){
	  lang=2;
	  wordMap = hindi_lang;
	  other_lang();	  
  });
   
  $("#kan").click(function(){
	  lang=3;
	  wordMap = kan_lang;
	  other_lang();	  
  });
   $("#home").click(function(){
		location.reload();
  });
  
  $("#print").click(function(){
		$("#details_hdr").html("Report : " + $("#resultDivTxt").html())
		$("#person_name_txt").html("Name : " + $("#person_name").val());
		$("#person_mob_txt").html("Mobile : " + $("#person_mob").val());
		$("input.w3-radio:not(:checked)").siblings(".text-replace").remove();
		$("input.w3-radio").remove();
		
		var doc = new jsPDF();
		var elementHTML = $('#containerdiv2').html();
		var specialElementHandlers = {
			'#elementH': function (element, renderer) {
				return true;
			}
		};
		doc.fromHTML(elementHTML, 15, 15, {
			'width': 170,
			'elementHandlers': specialElementHandlers
		});

		// Save the PDF
		doc.save('report.pdf');
  });
  
  $("#submit").click(function(){
		var hist = parseInt($('input[name="hist"]:checked').val());
		var temp = parseInt($('input[name="temp"]:checked').val());
		var breathe = parseInt($('input[name="breathe"]:checked').val());
		var pain = parseInt($('input[name="pain"]:checked').val());
		var diarrhoea = parseInt($('input[name="diarrhoea"]:checked').val());
		var cond = parseInt($('input[name="cond"]:checked').val());
		var cough = parseInt($('input[name="cough"]:checked').val());
		var sore = parseInt($('input[name="sore"]:checked').val());
		var status = parseInt($('input[name="status"]:checked').val());
		var age = parseInt($('input[name="age"]:checked').val());
		
		total = hist + temp + breathe + pain + diarrhoea + cond + cough + sore + status + age
		console.log("total",total);
		
		$(".page-div").hide();
		$("#resultDivHdr").removeClass( "w3-green w3-blue w3-red" );
		var txt = "You are safe, no need to worry";
		if(total<17)
		{
			$("#resultDivHdr").addClass("w3-green");
		}
		else if(total==17 || total==18)
		{
			$("#resultDivHdr").addClass("w3-blue");
			txt = "Exercise extreme caution and stay at home and notify medical authorities if condition deteriorates";
		}
		else if(total > 18)
		{
			$("#resultDivHdr").addClass("w3-red");
			txt = "Immediate medical attention is required and you may require COVID 19 testing";
		}
		if(lang!=1)
		{
			txt = wordMap[txt];
		}
		$("#resultDivTxt").html(txt);
		$("#resultDiv").show();
  });
  
});
</script>
<body>
<div id="containerdiv1" class="w3-container page-div" style="height:100%;">
	<div class="w3-display-container" style="height:100%;">

		<div class="w3-padding w3-display-middle"> 
		<div style="text-align:center"><img src="DIAT_logo.png"  alt="DIAT" class="w3-image" align="middle"></div>
			<div class="w3-container"> 
			  <h2>Self Assessment Test for COVID-19 Infection<br/>COVID-19 संक्रमण के लिए स्व मूल्यांकन परीक्षण</h2>
			</div>	
		<div style="text-align:center">	<button id="eng" class="w3-button w3-blue w3-border">English</button>	<button id="hindi" class="w3-button w3-blue w3-border">हिन्दी</button> <button id="kan" class="w3-button w3-blue w3-border">ಕನ್ನಡ</button></div>		
		</div>
	</div>
</div>
 
<div id="resultDiv" class="w3-card-4" style="display:none">
	<header id="resultDivHdr" class="w3-container w3-blue w3-display-middle">
		<h1 id="resultDivTxt" class="text-replace">Header</h1>
	</header>
	<div class="w3-display-bottommiddle"><button id="home" class="w3-button w3-blue w3-border text-replace">HOME</button>
		<button id="print" class="w3-button w3-blue w3-border" style="display:none">Print</button>
		<div id="elementH" style="display:none"></div>
	</div>
</div>
 
<div id="containerdiv2" class="w3-container page-div" style="height:100%;">

		<div class="w3-container w3-teal">
			<h2  class="text-replace" id="details_hdr">Personal Details</h2>
		</div>
		<br/>
  <label class="w3-text-teal"><b class="text-replace" id="person_name_txt">Enter your name</b></label>
  <input id="person_name" class="w3-input w3-border w3-light-grey" type="text">

  <br/>
  <label class="w3-text-teal"><b class="text-replace" id="person_mob_txt">Enter your mobile number</b></label>
 <input id="person_mob" class="w3-input w3-border w3-light-grey" type="text">

	<br/>
	<label class="w3-text-teal"><b class="text-replace">Do you have any International Travel History/Contact History with Confirmed COVID 19 case?</b></label>
	<p><input class="w3-radio" type="radio" name="hist" value="1" checked>
	<label class="text-replace">No International Travel History/Contact History</label></p>

	<p><input class="w3-radio" type="radio" name="hist" value="2">
	<label class="text-replace">Travel History/Contact History more than 14 days</label></p>

	<p><input class="w3-radio" type="radio" name="hist" value="3">
	<label class="text-replace">Travel History/Contact History less than 14 days</label></p>
	
	<p><input class="w3-radio" type="radio" name="hist" value="4">
	<label class="text-replace">Direct Contact with Confirmed COVID 19 case</label></p>


	<br/>
	<label class="w3-text-teal"><b class="text-replace">Body temperature/fever? *</b></label>
	<p><input class="w3-radio" type="radio" name="temp" value="1" checked>
	<label class="text-replace">98.6 F to 100 F (36 C to 37.7 C)</label></p>

	<p><input class="w3-radio" type="radio" name="temp" value="2">
	<label class="text-replace">100 F to 102 F (36 C to 37.7 C)</label></p>

	<p><input class="w3-radio" type="radio" name="temp" value="3">
	<label class="text-replace">102 F to 104 F (37.7 C to 40 C)</label></p>
	
	<p><input class="w3-radio" type="radio" name="temp" value="4">
	<label class="text-replace">more than 104 F (more than 40 C)</label></p>

	<br/>
	<label class="w3-text-teal"><b class="text-replace">Do you have any breathing difficulty? *</b></label>
	<p><input class="w3-radio" type="radio" name="breathe" value="1" checked>
	<label class="text-replace">No</label></p>

	<p><input class="w3-radio" type="radio" name="breathe" value="2">
	<label class="text-replace">Mild</label></p>

	<p><input class="w3-radio" type="radio" name="breathe" value="3">
	<label class="text-replace">Moderate</label></p>
	
	<p><input class="w3-radio" type="radio" name="breathe" value="4">
	<label class="text-replace">Severe</label></p>
	
	<br/>
	<label class="w3-text-teal"><b class="text-replace">Do you have any pain in the body? *</b></label>
	<p><input class="w3-radio" type="radio" name="pain" value="1" checked>
	<label class="text-replace">No</label></p>

	<p><input class="w3-radio" type="radio" name="pain" value="2">
	<label class="text-replace">Mild</label></p>

	<p><input class="w3-radio" type="radio" name="pain" value="3">
	<label class="text-replace">Moderate</label></p>
	
	<p><input class="w3-radio" type="radio" name="pain" value="4">
	<label class="text-replace">Severe</label></p>
	
	<br/>
	<label class="w3-text-teal"><b class="text-replace">Do you have a sore throat? *</b></label>
	<p><input class="w3-radio" type="radio" name="sore" value="1" checked>
	<label class="text-replace">No</label></p>

	<p><input class="w3-radio" type="radio" name="sore" value="2">
	<label class="text-replace">Mild</label></p>

	<p><input class="w3-radio" type="radio" name="sore" value="3">
	<label class="text-replace">Moderate</label></p>
	
	<p><input class="w3-radio" type="radio" name="sore" value="4">
	<label class="text-replace">Severe</label></p>
	
	<br/>
	<label class="w3-text-teal"><b class="text-replace">Do you have a cough? *</b></label>
	<p><input class="w3-radio" type="radio" name="cough" value="1" checked>
	<label class="text-replace">No</label></p>

	<p><input class="w3-radio" type="radio" name="cough" value="2">
	<label class="text-replace">Mild</label></p>

	<p><input class="w3-radio" type="radio" name="cough" value="3">
	<label class="text-replace">Moderate</label></p>
	
	<p><input class="w3-radio" type="radio" name="cough" value="4">
	<label class="text-replace">Severe</label></p>
	
	<br/>
	<label class="w3-text-teal"><b class="text-replace">Do you have diarrhoea? *</b></label>
	<p><input class="w3-radio" type="radio" name="diarrhoea" value="1" checked>
	<label class="text-replace">No episodes in last 24 hrs</label></p>

	<p><input class="w3-radio" type="radio" name="diarrhoea" value="2">
	<label class="text-replace">1 to 3 episodes in last 24 hrs</label></p>

	<p><input class="w3-radio" type="radio" name="diarrhoea" value="3">
	<label class="text-replace">4 to 7 episodes in last 24 hrs</label></p>
	
	<p><input class="w3-radio" type="radio" name="diarrhoea" value="4">
	<label class="text-replace">More than 7 episodes in last 24 hrs</label></p>
	
	<br/>
	<label class="w3-text-teal"><b class="text-replace">Do you have any other medical conditions? *</b></label>
	<p><input class="w3-radio" type="radio" name="cond" value="1" checked>
	<label class="text-replace">None</label></p>

	<p><input class="w3-radio" type="radio" name="cond" value="2">
	<label class="text-replace">High BP</label></p>

	<p><input class="w3-radio" type="radio" name="cond" value="3">
	<label class="text-replace">High BP + Diabetes Mellitus</label></p>
	
	<p><input class="w3-radio" type="radio" name="cond" value="4">
	<label class="text-replace">Reduced Immunity</label></p>
	
	<br/>
	<label class="w3-text-teal"><b class="text-replace">How is your health status in the last 48hrs? *</b></label>
	<p><input class="w3-radio" type="radio" name="status" value="1" checked>
	<label class="text-replace">Improved</label></p>

	<p><input class="w3-radio" type="radio" name="status" value="2">
	<label class="text-replace">No Change</label></p>

	<p><input class="w3-radio" type="radio" name="status" value="3">
	<label class="text-replace">Worsened</label></p>
	
	<p><input class="w3-radio" type="radio" name="status" value="4">
	<label class="text-replace">Worsened a lot</label></p>
	
	<br/>
	<label class="w3-text-teal"><b class="text-replace">Your age? *</b></label>
	<p><input class="w3-radio" type="radio" name="age" value="1" checked>
	<label class="text-replace">15 to 50 Yrs</label></p>

	<p><input class="w3-radio" type="radio" name="age" value="2">
	<label class="text-replace">5 to 15 Yrs</label></p>

	<p><input class="w3-radio" type="radio" name="age" value="3">
	<label class="text-replace">0 to 5 Yrs</label></p>
	
	<p><input class="w3-radio" type="radio" name="age" value="4">
	<label class="text-replace">More than 50 Yrs</label></p>
	
	<br/>
	<div style="text-align:center">	<button id="submit" class="w3-button w3-blue w3-border text-replace">Submit</button>	</div><br>

	</div>

</body>
</html>
